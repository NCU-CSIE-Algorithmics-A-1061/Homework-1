# Problem

Analyze best-case, average-case, and worst-case performance of the following pseudocode which describes a sorting algorithm. Append your analyzing process or reasons.

```ruby
i = 2
while i <= size
    if i == 1 or array[i] >= array[i - 1]
        i += 1
    else
        swap array[i], array[i - 1]
        i -= 1
```

# Solution

## Best Case

- Answer: O(n)  (å‡è¨­é¡Œç›®ä¸­çš„sizeç‚ºn)
- Explanation:
    - ç•¶array[1â€¦size]ä¸­çš„å…ƒç´ ç‚ºå·²æ’åºæ™‚(ç”±å°æ’åˆ°å¤§)ï¼Œæ­¤sortæ¼”ç®—æ³•ä¸­çš„è¿´åœˆå°‡åŸ·è¡Œ(size - 1)æ¬¡ï¼Œä¹Ÿå°±æ˜¯åš(size - 1)æ¬¡æ¯”è¼ƒ (i = 2 ~ size) ï¼Œè€Œelseçš„éƒ¨åˆ†ä¸æœƒåŸ·è¡Œã€‚æ•…Best Caseç‚º O(n) (å‡è¨­é¡Œç›®ä¸­çš„sizeç‚ºn)

## Worst Case

- Answer: O(n<sup>2</sup>)  (å‡è¨­é¡Œç›®ä¸­çš„sizeç‚ºn)
- Explanation:
    - ç•¶array[1â€¦size]ä¸­çš„å…ƒç´ ç‚ºç”±å¤§æ’åˆ°å°æ™‚ï¼Œæ­¤sortæ¼”ç®—æ³•æœƒå°‡è¼ƒå°çš„å…ƒç´ ä¾åºç§»è‡³arrayçš„å‰ç«¯ï¼Œè¼ƒå¤§çš„å…ƒç´ ä¾åºç§»è‡³arrayçš„å¾Œç«¯ã€‚æ­¤æ™‚ï¼Œç¬¬kå€‹å…ƒç´ æ‰€éœ€çš„æ¯”è¼ƒæ¬¡æ•¸ç‚º(2k - 1)æ¬¡ï¼Œæ•…sizeç‚ºnçš„array[1â€¦size]ç¸½å…±æ‰€éœ€çš„æ¯”è¼ƒæ¬¡æ•¸ç‚º 3 + 5 +7 + â€¦ + (2nâ€“1) = (ğ‘›<sup>2</sup>-1)æ¬¡ï¼Œæ•…Worst Caseç‚º O(n<sup>2</sup>)
    - å‡è¨­ä¸€åºåˆ—ç‚º 10 9 8 7 6 5 4 3 2 1ï¼Œè‹¥ä½¿ç”¨æ­¤sortæ¼”ç®—æ³•ï¼Œå‰‡æœƒä¾åºå°‡è¼ƒå°çš„å…ƒç´ ç§»è‡³é™£åˆ—æœ€å‰ç«¯(ä¹Ÿå°±æ˜¯ æ­¤åºåˆ—çš„ç¬¬ä¸€å€‹ä½ç½®å°‡æœƒä¾åºç‚º 9 8 7 6â€¦ 3 2 1) ï¼Œè€Œæ ¹æ“šæ­¤æ¼”ç®—æ³•ç•¶ç™¼ç”Ÿswapæ™‚ï¼Œæœƒä¸€ä½µåŸ·è¡Œi-- ï¼Œä»¥ä¸Šé¢çš„åºåˆ—ç‚ºä¾‹ i çš„è®ŠåŒ–ç‚º(2 -> 1 -> 2) -> (3 -> 2 -> 1 -> 2 -> 3)->â€¦â€¦(10 -> â€¦1â€¦ -> 10)
    - æ¯ä¸€å€‹  i çš„å€¼éƒ½ä»£è¡¨è‘—ç¶“éä¸€æ¬¡æ¯”è¼ƒï¼Œå› æ­¤ç¬¬kå€‹å…ƒç´ æ‰€éœ€çš„æ¯”è¼ƒæ¬¡æ•¸ç‚º(2k - 1)æ¬¡

## Average Case

- Answer: O(n<sup>2</sup>)  (å‡è¨­é¡Œç›®ä¸­çš„sizeç‚ºn)
- Explanation:
    - ç¬¬kå€‹å…ƒç´ æ‰€éœ€çš„æ‰€æœ‰å¯èƒ½æ¯”è¼ƒæ¬¡æ•¸ç‚º1ã€3ã€5ã€7â€¦(2k - 1) ï¼Œè€Œæ¯ç¨®å¯èƒ½çš„ç™¼ç”Ÿæ©Ÿç‡çš†ç›¸åŒï¼Œæ•…ç¬¬kå€‹å…ƒç´ æ‰€éœ€çš„æ¯”è¼ƒæ¬¡æ•¸çš„æœŸæœ›å€¼ç‚º![1/k*(1+3+5+7+â€¦+(2k-1))=k](http://latex.codecogs.com/gif.latex?%5Cfrac%7B1%7D%7Bk%7D%5Ctimes%281%2B3%2B5%2B7%2B...%2B%282k-1%29%29%3Dk)æ¬¡ï¼Œè¨­arrayçš„sizeç‚ºnï¼Œå‰‡ç¸½æ¯”è¼ƒæ¬¡æ•¸ç‚º![sum(2..n)=(2+n)(n-1)/2=n^2/2+n/2+1](http://latex.codecogs.com/gif.latex?%5Csum%5Climits_%7Bk%3D2%7D%5Enk%3D%5Cfrac%7B%282%2Bn%29%28n-1%29%7D%7B2%7D%3D%5Cfrac%7Bn%5E2%7D%7B2%7D%2B%5Cfrac%7Bn%7D%7B2%7D%2B1)ï¼Œæ•…Average Caseç‚ºO(n<sup>2</sup>) ã€‚
